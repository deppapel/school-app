<h2>Results</h2>

<table border="1" style="border-collapse: collapse; width:100%;">
    <tr>
        <th>Adm No</th>
        <th>Name</th>

        {% for subject in subjects %}
            <th>{{ subject.subject_name }}</th>
        {% endfor %}

        <th>Total Points</th>
        <th>Final Grade</th>
    </tr>

    {% for entry in student_data %}
    <tr>
        <td>{{ entry.student.adm_no }}</td>
        <td>{{ entry.student.first_name }}</td>

        {% for subject in subjects %}
            <td>
                {% set found = false %}
                {% for r in entry.results %}
                    {% if r.subject_id == subject.id %}
                        {{ r.marks }}
                        {% set found = true %}
                    {% endif %}
                {% endfor %}
                {% if not found %}
                    -
                {% endif %}
            </td>
        {% endfor %}

        <td><strong>{{ entry.total_points }}</strong></td>
        <td><strong>{{ entry.final_grade }}</strong></td>
    </tr>
    {% endfor %}
</table>










